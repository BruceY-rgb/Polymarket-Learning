# Polymarket æ•°æ®æ”¶é›†åŠå¹´å›æº¯ç­–ç•¥è¯´æ˜

## ğŸ¯ æ–°ç­–ç•¥æ¦‚è¿°

æˆ‘å·²ç»å°†æ•°æ®æ”¶é›†ç®¡é“ä»**è·å–æ‰€æœ‰å†å²æ•°æ®**ä¼˜åŒ–ä¸º**ä»æœ€æ–°æ•°æ®å¼€å§‹ï¼Œå‘å‰å›æº¯åŠå¹´**ã€‚

### ğŸ”„ æ ¸å¿ƒå˜åŒ–

| æ–¹é¢ | æ—§ç­–ç•¥ | æ–°ç­–ç•¥ |
|------|--------|--------|
| **èµ·å§‹ç‚¹** | ä»æœ€æ—©æ•°æ®å¼€å§‹ | ä»å½“å‰æ—¶é—´å¼€å§‹ |
| **æ–¹å‘** | å‘å‰è·å– | å‘åå›æº¯ |
| **æ—¶é—´èŒƒå›´** | æ‰€æœ‰å†å²æ•°æ® | é»˜è®¤ 180 å¤©ï¼ˆåŠå¹´ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | å®Œæ•´åˆ†æ | æœ€æ–°æ•°æ®åˆ†æ |

## â­ ä¼˜åŠ¿

1. **ğŸš€ å¿«é€Ÿå¯åŠ¨** - é¦–æ¬¡è¿è¡Œåªéœ€å‡ åˆ†é’Ÿè€Œéæ•°å°æ—¶
2. **ğŸ“Š æœ€æ–°æ•°æ®** - ä¼˜å…ˆè·å–æœ€æ–°çš„å¸‚åœºæ´»åŠ¨
3. **ğŸ’¾ èŠ‚çœå­˜å‚¨** - å‡å°‘æ•°æ®å­˜å‚¨éœ€æ±‚
4. **ğŸ”„ å¢é‡æ›´æ–°** - åç»­è¿è¡Œæ›´é«˜æ•ˆ
5. **âš¡ å®æ—¶æ€§** - é€‚åˆç›‘æ§å’Œå®æ—¶åˆ†æ

## ğŸ“… æ—¶é—´èŒƒå›´é…ç½®

### é»˜è®¤é…ç½®
```python
# update_utils/update_goldsky.py
DEFAULT_DAYS_LIMIT = 180  # åŠå¹´
```

### è‡ªå®šä¹‰æ—¶é—´èŒƒå›´

**90 å¤©ï¼ˆ3 ä¸ªæœˆï¼‰**ï¼š
```bash
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=90)"
```

**365 å¤©ï¼ˆ1 å¹´ï¼‰**ï¼š
```bash
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=365)"
```

**30 å¤©ï¼ˆ1 ä¸ªæœˆï¼‰**ï¼š
```bash
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=30)"
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨é»˜è®¤åŠå¹´è®¾ç½®

```bash
cd /Users/yangsmac/Desktop/Polymarket/poly_data

# ä»…æ”¶é›†è®¢å•æ•°æ®ï¼ˆæ¨èï¼‰
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky()"
```

### æ–¹æ³•äºŒï¼šè‡ªå®šä¹‰æ—¶é—´èŒƒå›´

```bash
# å›æº¯ 90 å¤©
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=90)"
```

### æ–¹æ³•ä¸‰ï¼šå®Œæ•´ç®¡é“

```bash
# è¿è¡Œå®Œæ•´çš„æ•°æ®æ”¶é›†å’Œå¤„ç†ç®¡é“
uv run python update_all.py
```

## ğŸ“Š é¢„æœŸç»“æœ

### æˆåŠŸè¿è¡Œçš„è¾“å‡ºç¤ºä¾‹

```
ğŸ”„ æ•°æ®æ”¶é›†ç­–ç•¥ï¼šä»æœ€æ–°æ•°æ®å¼€å§‹ï¼Œå‘å‰å›æº¯ 180 å¤©
ğŸ“… èµ·å§‹æ—¶é—´ï¼ˆå›æº¯èµ·ç‚¹ï¼‰: 2024-08-03 12:34:56 UTC (timestamp: 1722676496)
ğŸ“… å½“å‰æ—¶é—´: 2025-01-30 12:34:56 UTC (timestamp: 1735631696)

ğŸš€ åˆå§‹è¿è¡Œï¼šä»å½“å‰æ—¶é—´å¼€å§‹å›æº¯ 180 å¤©
â° èµ·å§‹ç‚¹: 2025-01-30 12:34:56 UTC (timestamp: 1735631696)

ğŸš€ å¼€å§‹æŠ“å– orderFilledEvents
ğŸ“‚ è¾“å‡ºæ–‡ä»¶: goldsky/orderFilled.csv
â³ è·å–æ‰¹æ¬¡ 1...
ğŸ“ æ·»åŠ æ‰¹æ¬¡ 1ï¼š1000 æ¡è®°å½•
â³ è·å–æ‰¹æ¬¡ 2...
...

ğŸ“Š åˆå¹¶æ•°æ®...
âœ… åˆ›å»ºæ–‡ä»¶ï¼šgoldsky/orderFilled.csv
ğŸ“ˆ æ€»è®°å½•æ•°ï¼š156,789

ğŸ‰ æŠ“å–å®Œæˆï¼
ğŸ“Š æ€»æ–°è®°å½•æ•°: 156,789
ğŸ“ è¾“å‡ºæ–‡ä»¶: goldsky/orderFilled.csv
```

### æ•°æ®æ–‡ä»¶å¤§å°é¢„æœŸ

| æ—¶é—´èŒƒå›´ | é¢„è®¡è®°å½•æ•° | æ–‡ä»¶å¤§å° |
|----------|------------|----------|
| 30 å¤© | ~50,000 | ~10 MB |
| 90 å¤© | ~150,000 | ~30 MB |
| 180 å¤© | ~300,000 | ~60 MB |
| 365 å¤© | ~600,000 | ~120 MB |

## ğŸ”„ å¢é‡æ›´æ–°æœºåˆ¶

### æ™ºèƒ½æ£€æµ‹

ç®¡é“ä¼šè‡ªåŠ¨æ£€æµ‹ç°æœ‰æ•°æ®ï¼š
- **å‘ç°è¾ƒæ–°æ•°æ®** â†’ ä»æœ€æ–°æ—¶é—´ç‚¹ç»§ç»­
- **æ•°æ®è¾ƒæ—§** â†’ é‡æ–°å›æº¯
- **åˆå§‹è¿è¡Œ** â†’ ä»å½“å‰æ—¶é—´å¼€å§‹

### æ›´æ–°æµç¨‹

1. æ£€æŸ¥ç°æœ‰ `goldsky/orderFilled.csv`
2. è·å–æ–‡ä»¶ä¸­çš„æœ€æ–°æ—¶é—´æˆ³
3. å¦‚æœæœ‰æ•°æ®ä¸”è¾ƒæ–°ï¼Œä»æœ€æ–°ç‚¹ç»§ç»­
4. å¦‚æœæ•°æ®è¾ƒæ—§æˆ–ä¸å­˜åœ¨ï¼Œä»å½“å‰æ—¶é—´å›æº¯
5. è‡ªåŠ¨å»é‡å’Œåˆå¹¶æ•°æ®

## âš™ï¸ é«˜çº§é…ç½®

### è°ƒæ•´æ‰¹å¤„ç†å¤§å°

```python
# åœ¨è„šæœ¬ä¸­è°ƒç”¨æ—¶æŒ‡å®š
from update_utils.update_goldsky import scrape

# å°æ‰¹æ¬¡ï¼ˆæ›´ç²¾ç»†æ§åˆ¶ï¼‰
scrape(at_once=500, days_limit=180)

# å¤§æ‰¹æ¬¡ï¼ˆæ›´å¿«ä½†å¯èƒ½å†…å­˜å ç”¨æ›´å¤šï¼‰
scrape(at_once=2000, days_limit=180)
```

### ä¿®æ”¹é»˜è®¤å›æº¯å¤©æ•°

ç¼–è¾‘ `update_utils/update_goldsky.py`ï¼š

```python
# æ”¹ä¸º 90 å¤©ï¼ˆ3 ä¸ªæœˆï¼‰
DEFAULT_DAYS_LIMIT = 90

# æ”¹ä¸º 365 å¤©ï¼ˆ1 å¹´ï¼‰
DEFAULT_DAYS_LIMIT = 365
```

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹è¿›åº¦

è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦ä¿¡æ¯ï¼š
```
â³ è·å–æ‰¹æ¬¡ 1...
ğŸ“ æ·»åŠ æ‰¹æ¬¡ 1ï¼š1000 æ¡è®°å½•
ğŸ“ˆ å·²å¤„ç†ï¼š1,000 æ¡è®°å½•
```

### æ£€æŸ¥æ•°æ®æ–‡ä»¶

```bash
# æŸ¥çœ‹æ–‡ä»¶å¤§å°å’Œä¿®æ”¹æ—¶é—´
ls -lah goldsky/orderFilled.csv

# æŸ¥çœ‹æ•°æ®èŒƒå›´
head -n 5 goldsky/orderFilled.csv
tail -n 5 goldsky/orderFilled.csv

# ç»Ÿè®¡è®°å½•æ•°
wc -l goldsky/orderFilled.csv
```

### æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥ API è¿æ¥**ï¼š
   ```bash
   uv run python test_apis.py
   ```

2. **æŸ¥çœ‹é”™è¯¯æ—¥å¿—**ï¼š
   - æ‰€æœ‰é”™è¯¯éƒ½ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯
   - åŒ…å«é‡è¯•æœºåˆ¶å’Œè¯¦ç»†é”™è¯¯ä¿¡æ¯

3. **æ‰‹åŠ¨æŒ‡å®šæ—¶é—´èŒƒå›´**ï¼š
   ```bash
   # å¦‚æœé»˜è®¤ 180 å¤©å¤ªå¤šï¼Œå°è¯• 30 å¤©
   uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=30)"
   ```

## ğŸ¯ é€‚ç”¨åœºæ™¯

### âœ… é€‚åˆçš„åœºæ™¯
- **å¸‚åœºç›‘æ§** - è·å–æœ€æ–°å¸‚åœºæ´»åŠ¨
- **ç­–ç•¥å›æµ‹** - åŸºäºæœ€è¿‘åŠå¹´æ•°æ®
- **å®æ—¶åˆ†æ** - éœ€è¦æœ€æ–°çš„äº¤æ˜“æ•°æ®
- **å¿«é€ŸåŸå‹** - éªŒè¯åˆ†æé€»è¾‘
- **èµ„æºå—é™** - å­˜å‚¨ç©ºé—´æœ‰é™

### âŒ ä¸å¤ªé€‚åˆçš„åœºæ™¯
- **é•¿æœŸå†å²åˆ†æ** - éœ€è¦æ•°å¹´æ•°æ®
- **å¸‚åœºå¾®è§‚ç»“æ„ç ”ç©¶** - éœ€è¦å®Œæ•´å†å²
- **ç›‘ç®¡æŠ¥å‘Š** - å¯èƒ½è¦æ±‚å®Œæ•´æ•°æ®
- **å­¦æœ¯ç ”ç©¶** - éœ€è¦å…¨æ ·æœ¬æ•°æ®

## ğŸ“‹ æœ€ä½³å®è·µ

### 1. å®šæœŸæ›´æ–°
å»ºè®®æ¯å‘¨æˆ–æ¯æœˆè¿è¡Œä¸€æ¬¡ä»¥ä¿æŒæ•°æ®æœ€æ–°ï¼š
```bash
# æ¯å‘¨è¿è¡Œ
0 2 * * 1 cd /path/to/poly_data && uv run python update_all.py

# æˆ–ä½¿ç”¨ cron
0 2 * * * cd /Users/yangsmac/Desktop/Polymarket/poly_data && uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky()"
```

### 2. åˆ†å±‚å­˜å‚¨
```bash
# æ¯æ—¥å¢é‡ï¼ˆ30 å¤©ï¼‰
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=30)"

# æ¯å‘¨å¤‡ä»½å®Œæ•´æ•°æ®ï¼ˆ180 å¤©ï¼‰
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=180)"
```

### 3. æ€§èƒ½ç›‘æ§
```python
import time
start = time.time()
update_goldsky(days_limit=180)
print(f"è€—æ—¶: {time.time() - start:.2f} ç§’")
```

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `update_utils/update_goldsky.py` - æ ¸å¿ƒæŠ“å–é€»è¾‘
- `test_apis.py` - API æµ‹è¯•è„šæœ¬
- `æ•…éšœæ’é™¤æŒ‡å—.md` - è¯¦ç»†æ•…éšœæ’é™¤
- `README_zh.md` - é¡¹ç›®å®Œæ•´è¯´æ˜

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ¢å¤åˆ°è·å–æ‰€æœ‰å†å²æ•°æ®ï¼Ÿ
A: è®¾ç½® `days_limit=10000`ï¼š
```bash
uv run python -c "from update_utils.update_goldsky import update_goldsky; update_goldsky(days_limit=10000)"
```

### Q: åŠå¹´æ•°æ®å¤Ÿç”¨å—ï¼Ÿ
A: å–å†³äºç”¨é€”ï¼š
- **æ—¥å¸¸ç›‘æ§** âœ… è¶³å¤Ÿ
- **ç­–ç•¥å›æµ‹** âœ… é€šå¸¸è¶³å¤Ÿ
- **å­¦æœ¯ç ”ç©¶** âŒ å¯èƒ½éœ€è¦æ›´å¤š

### Q: æ•°æ®ä¼šè‡ªåŠ¨æ›´æ–°å—ï¼Ÿ
A: éœ€è¦æ‰‹åŠ¨è¿è¡Œï¼Œä½†ç®¡é“ä¼šæ£€æµ‹ç°æœ‰æ•°æ®å¹¶æ™ºèƒ½å¢é‡æ›´æ–°ã€‚

### Q: å¦‚ä½•è®¾ç½®å®šæœŸè‡ªåŠ¨æ›´æ–°ï¼Ÿ
A: ä½¿ç”¨ç³»ç»Ÿ cron æˆ–ä»»åŠ¡è°ƒåº¦å™¨ï¼ˆè§æœ€ä½³å®è·µéƒ¨åˆ†ï¼‰ã€‚

---

**æ€»ç»“**ï¼šæ–°çš„åŠå¹´å›æº¯ç­–ç•¥æä¾›äº†ä¸€ç§é«˜æ•ˆã€å®ç”¨çš„æ•°æ®æ”¶é›†æ–¹å¼ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦æœ€æ–°æ•°æ®çš„åˆ†æåœºæ™¯ã€‚ğŸš€
